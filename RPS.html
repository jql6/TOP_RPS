<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    /*
    Make a function called computerPlay that will randomly return
    Rock, Paper, or Scissors.
    */
    function computerPlay() {
      // Make an array containing Rock, Paper, and Scissors
      let RPS_choices = ["Rock", "Paper", "Scissors"];
      // Randomly select one of the choices in RPS_choices
      return RPS_choices[Math.floor(Math.random() * RPS_choices.length)];
    }
    /*
    Write a function that plays a single round of Rock Paper Scissors.
    The function should take two parameters - the playerSelection and
    computerSelection - and then return a string that declares the winner
    of the round like so: "You Lose! Paper beats Rock". Make the function
    case insensitive. Examples include: rock, ROCK, RocK.
    */

    // Writing an extra function here to make everything lowercase then
    // capitalizing the first letter
    function capitalize_first_letter(string_1){
      // Assume the input is a string
      // Convert string_1 to lowercase
      let string_2 = string_1.toLowerCase();
      // Capitalize the first letter
      return string_2.charAt(0).toUpperCase() + string_2.slice(1);
    }

    function RPS_round(playerSelection, computerSelection){
      // Assume that playerSelection and computerSelection are strings
      let RPS_choices = ["Rock", "Paper", "Scissors"];

      // Make both selections all lowercase and capitalize the first letter
      let playerSelection_2 = capitalize_first_letter(playerSelection);
      let computerSelection_2 = capitalize_first_letter(computerSelection);

      // Look at the spreadsheet for more details on the game logic
      
      // Create game results
      let game_results = [`Tie! Try again!`,
                          `You lose! ${computerSelection_2} beats ` +
                          `${playerSelection_2}`,
                          `You win! ${playerSelection_2} beats ` +
                          `${computerSelection_2}`];
      
      // If playerSelection is not one of the choices
      if (RPS_choices.includes(playerSelection_2 == false)) {
        return `Error, you must choose "Rock", "Paper", or "Scissors"!`;
      } // If computerSelection is not one of the choices
      else if (RPS_choices.includes(computerSelection_2) == false) {
        return `Error, computer must choose "Rock", "Paper", or "Scissors"!`;
      } // Otherwise, play the game
      else{
        // We need all combinations to create differences; 0 won't work
        let player_num = RPS_choices.indexOf(playerSelection_2) + 1;
        let computer_num = RPS_choices.indexOf(computerSelection_2) + 1;
        
        // This calculation gets us a game result
        let game_score = player_num - computer_num;
        
        // Choose game result based on the game score
        return game_results.slice(game_score)[0];
      }
    }

    /*
    Write a new function called game(). Use the previous function inside the
    game() function to play a 5 round game that keeps score and reports a
    winner or loser at the end. Use console.log() to display the results
    of each round and the winner at the end. Use prompt() to get input from
    the user.
    */
  </script>
</body>
</html>